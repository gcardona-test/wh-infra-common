{
	"cmd": "chmod +x terraform-build.sh && ./terraform-build.sh",
	"pullRequests": {
		"fromSelfPublicRepo": {
			"build": true,
			"cmd": "mkdir tmp && curl https://releases.hashicorp.com/terraform/0.11.3/terraform_0.11.3_linux_amd64.zip --output terraform.zip && unzip terraform.zip && export PATH=${PATH}:$PWD && cd ../terraform && terraform init && terraform plan",
			"allowConfigOverrides": false
		},
		"fromForkPublicRepo": {
			"build": true,
			"cmd": "mkdir tmp && curl https://releases.hashicorp.com/terraform/0.11.3/terraform_0.11.3_linux_amd64.zip --output terraform.zip && unzip terraform.zip && export PATH=${PATH}:$PWD && cd ../terraform && terraform init && terraform plan",
			"allowConfigOverrides": false
		}
	}
}

## TODO: Building from anything that isn't master needs to be safe from any external influence. Either hardcode everything in cmd ...
## Need to test scenario where I open a PR and modify .lambci.json as a part of it. What happens?
